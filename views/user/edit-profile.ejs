<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Edit Profile - <%= appName %></title>

        <!-- ICONSCOUT CDN -->
        <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css" />

        <!-- GOOGLE FONTS (MONTSERRAT) -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />

        <!-- CSS -->
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/contact.css" />
        <link rel="stylesheet" href="/css/edit-profile.css" />
        <style>
            body {
                background-image: url("/images/bg-texture.png");
            }
        </style>
    </head>

    <body>
        <%- include("../partials/navbar.ejs") %>

        <main class="profile-main">
            <div class="profile-container">
                <!-- Edit Profile Form -->
                <h2>Edit Your Profile</h2>
                <form action="/user/update-profile" method="POST">
                    <!-- Profile Picture Selection -->
                    <div class="form-group">
                        <label for="profilePicture">Profile Picture:</label>
                        <div class="profile-picture-options">
                            <% const profilePictures = ["bear.png", "cat.png", "chicken.png", "dog.png", "meerkat.png", "panda.png", "rabbit.png", "user.png", "woman.png"]; %> <% profilePictures.forEach((picture) => { %>
                            <label>
                                <input type="radio" name="profilePicture" value="<%= picture %>" <%= session.user.profilePicture === picture ? "checked" : "" %> />
                                <img src="/images/profile-pictures/<%= picture %>" alt="<%= picture %>" class="profile-picture-option" />
                            </label>
                            <% }) %>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="displayName">Display Name:</label>
                        <input type="text" id="displayName" name="displayName" value="<%= session.user.displayName %>" required />
                    </div>
                    <div class="form-group">
                        <label for="bio">Bio:</label>
                        <textarea id="bio" name="bio" rows="3"><%= session.user.bio %></textarea>
                    </div>
                    <div class="form-group">
                        <label for="introduction">Introduction:</label>
                        <textarea id="introduction" name="introduction" rows="3"><%= session.user.introduction %></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Update Profile</button>
                </form>
            </div>
        </main>

        <%- include("../partials/footer.ejs") %>

        <script src="/main.js"></script>
    </body>
</html>
